knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
# load your packages
# Turn off scientific notation
options(scipen=999)
# load your packages
library(tidyverse)
library(lubridate)
library(refinr)
library(janitor)
# Load the Maryland expenditures data table
md_expenses <- read_csv("data/maryland_expenses.csv")
# Load the Maryland expenditures data table
md_expenses <- read_csv("data/maryland_expenses.csv")
problems()
View(md_expenses)
View(md_expenses)
View(md_expenses)
# Load the Maryland expenditures data table
md_expenses <- read_csv("data/maryland_expenses.csv") |>
clean_names() |>
mutate(expenditure_date=mdy(expenditure_date))
md_expenses |>
filter (expense_category == "Media")
md_expenses_media <- md_expenses |>
filter (expense_category == "Media")
View(md_expenses)
View(md_expenses_media)
md_expenses_media <- md_expenses |>
filter (expense_category == "Media") |>
mutate(payee_name_clean=n_gram_merge(payee_name))
View(md_expenses_media)
Meta
Metaverse
Connect
Presence Platform
Quest 2
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, "Meta ") ~ "Facebook", str_detect(payee_name_clean, "Facebook/Meta") ~ "Facebook"))
View(expenses_summary)
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, "Meta ") ~ "Facebook", str_detect(payee_name_clean, "Facebook/Meta") ~ "Facebook", .default = NA))
View(md_expenses_media)
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, "Meta ") ~ "Facebook", str_detect(payee_name_clean, "Facebook/Meta") ~ "Facebook", .default = NA))
View(md_expenses_media)
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, "Meta ") ~ "Facebook", str_detect(payee_name_clean, "Facebook/Meta") ~ "Facebook", .default = NA)) |>
filter (payee_FB == "Facebook")
View(expenses_summary)
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, "Meta ") ~ "Facebook", str_detect(payee_name_clean, "Facebook/Meta") ~ "Facebook", .default = NA)) |>
filter (payee_FB == "Facebook") |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
View(expenses_summary)
View(md_expenses_media)
View(md_expenses)
md_expenses |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
View(md_expenses)
View(expenses_summary)
md_expenses |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
filter(committee_name == "Baker ")
md_expenses |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
filter(committee_name == "Cox ")
md_expenses |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
filter(committee_name == "Ficker ")
md_expenses |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
filter(committee_name == "Moore ")
md_expenses |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
filter(str_detect(committee_name, 'Moore '))
md_expenses |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
filter(str_detect(committee_name, 'Cox '))
md_expenses |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
filter(str_detect(committee_name, 'Ficker '))
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, regex("Meta", ignore_case = TRUE) ~ "Facebook",.default = payee_clean) |>
filter (payee_FB == "Facebook") |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, regex("Meta", ignore_case = TRUE)) ~ "Facebook",.default = payee_clean) |>
filter (payee_FB == "Facebook") |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, regex("Meta", ignore_case = TRUE)) ~ "Facebook",.default = payee_clean)) |>
filter (payee_FB == "Facebook") |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, regex("Meta", ignore_case = TRUE)) ~ "Facebook",.default = payee_name_clean)) |>
filter (payee_FB == "Facebook") |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
View(expenses_summary)
View(md_expenses)
knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
# load your packages
library(tidyverse)
library(lubridate)
library(refinr)
library(janitor)
# Load the Maryland expenditures data table
md_expenses <- read_csv("data/maryland_expenses.csv") |>
clean_names() |>
mutate(expenditure_date=mdy(expenditure_date))
md_expenses_media <- md_expenses |>
filter (expense_category == "Media") |>
mutate(payee_name_clean=n_gram_merge(payee_name))
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, regex("Meta", ignore_case = TRUE)) ~ "Facebook",.default = payee_name_clean)) |>
filter (payee_FB == "Facebook") |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
View(md_expenses_media)
moore_md_expenses_media <- md_expenses_media |>
filter(str_detect(committee_name, regex("Moore", ignore_case = TRUE)))
View(moore_md_expenses_media)
View(md_expenses_media)
moore_md_expenses_media <- md_expenses_media |>
filter(str_detect(committee_name, regex("Moore", ignore_case = TRUE))) |> group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
View(moore_md_expenses_media)
moore_md_expenses_media <- md_expenses_media |>
filter(str_detect(committee_name, regex("Moore", ignore_case = TRUE))) |> group_by(payee_name_clean) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
View(moore_md_expenses_media)
md_expenses_media |> filter(expense_purpose == "Online Advertising")
md_expenses_media |> filter(expense_purpose == "Online Advertising") |> group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
View(md_expenses_media)
md_expenses_media |> filter(expense_purpose == "Online Advertising") |> group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
View(md_expenses_media)
View(md_expenses_media)
View(expenses_summary)
View(md_expenses_media)
md_expenses_media_advertising |> filter(expense_purpose == "Online Advertising") |> group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
md_expenses_media_advertising <- md_expenses_media |> filter(expense_purpose == "Online Advertising") |> group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
View(md_expenses_media_advertising)
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, regex("Meta", ignore_case = TRUE)) ~ "Facebook",.default = payee_name_clean)) |>
filter (payee_FB == "Facebook") |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, regex("Meta", ignore_case = TRUE)) ~ "Facebook",.default = payee_name_clean)) |>
filter (payee_FB == "Facebook") |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
expenses_summary
View(expenses_summary)
View(md_expenses_media)
View(md_expenses_media_advertising)
View(moore_md_expenses_media)
View(md_expenses_media)
View(expenses_summary)
knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
# load your packages
library(tidyverse)
library(lubridate)
library(refinr)
library(janitor)
# Load the Maryland expenditures data table
md_expenses <- read_csv("data/maryland_expenses.csv") |>
clean_names() |>
mutate(expenditure_date=mdy(expenditure_date))
md_expenses_media <- md_expenses |>
filter (expense_category == "Media") |>
mutate(payee_name_clean=n_gram_merge(payee_name))
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, regex("Meta", ignore_case = TRUE)) ~ "Facebook",.default = payee_name_clean)) |>
filter (payee_FB == "Facebook") |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
expenses_summary
moore_md_expenses_media <- md_expenses_media |>
filter(str_detect(committee_name, regex("Moore", ignore_case = TRUE))) |> group_by(payee_name_clean) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
View(moore_md_expenses_media)
knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
# load your packages
library(tidyverse)
library(lubridate)
library(refinr)
library(janitor)
# Load the Maryland expenditures data table
md_expenses <- read_csv("data/maryland_expenses.csv") |>
clean_names() |>
mutate(expenditure_date=mdy(expenditure_date))
md_expenses_media <- md_expenses |>
filter (expense_category == "Media") |>
mutate(payee_name_clean=n_gram_merge(payee_name))
expenses_summary <- md_expenses_media |>
mutate(payee_FB = case_when(str_detect(payee_name_clean, regex("Meta", ignore_case = TRUE)) ~ "Facebook",.default = payee_name_clean)) |>
filter (payee_FB == "Facebook") |>
group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
expenses_summary
moore_md_expenses_media <- md_expenses_media |>
filter(str_detect(committee_name, regex("Moore", ignore_case = TRUE))) |> group_by(payee_name_clean) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
md_expenses_media_advertising <- md_expenses_media |> filter(expense_purpose == "Online Advertising") |> group_by(committee_name) |> summarize(total_amount = sum(amount)) |>
arrange(desc(total_amount))
